<!DOCTYPE html>
{% from "./partials/_macros.html" import display_value %}

<html>
<head>
    <style>
        table {
            width: 50%;
            border-collapse: collapse;
        }
        th, td {
            padding: 8px;
            border: 1px solid #ddd;
        }
        th {
            background-color: #f5f5f5;
        }
        .text-danger {
            color: #dc3545 !important;
        }

        .fw-bold {
            font-weight: bold;
        }

        td[title] {
            cursor: help;
        }
    </style>
</head>

<body>
    <h2>Analyse(s) sanguine(s) - {{ patient.first_name }} {{ patient.last_name }}</h2>
    {% for data in reports|sort(attribute='date_analyse', reverse=true) %}
    <h3>Analyse du {{ data.date_analyse.strftime('%A %d %B %Y à %Hh%M') }}</h3>
    <table>
        <tr>
            <th>Hémoglobine</th>
            {{ display_value(data.hemoglobine, 'hemoglobine', limits) }}
        </tr>
        <tr>
            <th>Hématocrite</th>
            {{ display_value(data.hematocrite, 'hematocrite', limits) }}
        </tr>
        <tr>
            <th>Leucocytes</th>
            {{ display_value(data.globules_blancs, 'globules_blancs', limits) }}
        </tr>
        <tr>
            <th>Hématies</th>
            {{ display_value(data.globules_rouges, 'globules_rouges', limits) }}
        </tr>
        <tr>
            <th>Plaquettes</th>
            {{ display_value(data.plaquettes, 'plaquettes', limits) }}
        </tr>
        <tr>
            <th>Créatinine</th>
            {{ display_value(data.creatinine, 'creatinine', limits) }}
        </tr>
        <tr>
            <th>Urée</th>
            {{ display_value(data.uree, 'uree', limits) }}
        </tr>
        <tr>
            <th>Glycémie</th>
            {{ display_value(data.glycemie, 'glycemie', limits) }}
        </tr>
        <tr>
            <th>Cholestérol Total</th>
            {{ display_value(data.cholesterol_total, 'cholesterol_total', limits) }}
        </tr>
        <tr>
            <th>HDL</th>
            {{ display_value(data.hdl, 'hdl', limits) }}
        </tr>
        <tr>
            <th>LDL</th>
            {{ display_value(data.ldl, 'ldl', limits) }}
        </tr>
        <tr>
            <th>Triglycérides</th>
            {{ display_value(data.triglycerides, 'triglycerides', limits) }}
        </tr>
        <tr>
            <th>TSH</th>
            {{ display_value(data.tsh, 'tsh', limits) }}
        </tr>
        <tr>
            <th>PSA</th>
            {{ display_value(data.psa, 'psa', limits) }}
        </tr>
        <tr>
            <th>ALT</th>
            {{ display_value(data.alt, 'alt', limits) }}
        </tr>
        <tr>
            <th>AST</th>
            {{ display_value(data.ast, 'ast', limits) }}
        </tr>
        <tr>
            <th>Fer</th>
            {{ display_value(data.fer, 'fer', limits) }}
        </tr>
        <tr>
            <th>Vitamine D</th>
            {{ display_value(data.vitamine_d, 'vitamine_d', limits) }}
        </tr>
    </table>
    {% endfor %}
</body>
</html>
